{
    "timestamp": 1771724100,
    "updates": [
        {
            "_comment": "SCENARIO 1: Trip 35 SB — On-time (Windsor → Larkspur). No badge expected.",
            "tripId": "t_test_trip35_sb",
            "routeId": "SMART",
            "startDate": "20260221",
            "startTime": "16:57:00",
            "scheduleRelationship": "SCHEDULED",
            "stopTimeUpdates": [
                { "stopSequence": 1,  "stopId": "71142", "arrivalTime": 1771721820, "departureTime": 1771721820, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 2,  "stopId": "71132", "arrivalTime": 1771722060, "departureTime": 1771722060, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 3,  "stopId": "71122", "arrivalTime": 1771722480, "departureTime": 1771722480, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 4,  "stopId": "71112", "arrivalTime": 1771722720, "departureTime": 1771722720, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 5,  "stopId": "71102", "arrivalTime": 1771723200, "departureTime": 1771723200, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 6,  "stopId": "71092", "arrivalTime": 1771723380, "departureTime": 1771723380, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 7,  "stopId": "71082", "arrivalTime": 1771723980, "departureTime": 1771723980, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 8,  "stopId": "71072", "arrivalTime": 1771724280, "departureTime": 1771724280, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 9,  "stopId": "71062", "arrivalTime": 1771725000, "departureTime": 1771725000, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 10, "stopId": "71052", "arrivalTime": 1771725180, "departureTime": 1771725180, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 11, "stopId": "71042", "arrivalTime": 1771725660, "departureTime": 1771725660, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 12, "stopId": "71032", "arrivalTime": 1771726020, "departureTime": 1771726020, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 13, "stopId": "71022", "arrivalTime": 1771726380, "departureTime": 1771726380, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 14, "stopId": "71012", "arrivalTime": 1771726800, "scheduleRelationship": "SCHEDULED" }
            ]
        },
        {
            "_comment": "SCENARIO 2: Trip 37 SB — Canceled (Windsor → Larkspur). All stops SKIPPED with scheduled times so any station pair can match. Test: select Windsor→Larkspur or any SB segment to see 'Canceled' badge.",
            "tripId": "t_test_trip37_sb",
            "routeId": "SMART",
            "startDate": "20260221",
            "startTime": "17:28:00",
            "scheduleRelationship": "CANCELED",
            "stopTimeUpdates": [
                { "stopSequence": 1,  "stopId": "71142", "departureTime": 1771723680, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 2,  "stopId": "71132", "departureTime": 1771723920, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 3,  "stopId": "71122", "departureTime": 1771724340, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 4,  "stopId": "71112", "departureTime": 1771724580, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 5,  "stopId": "71102", "departureTime": 1771725060, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 6,  "stopId": "71092", "departureTime": 1771725240, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 7,  "stopId": "71082", "departureTime": 1771725840, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 8,  "stopId": "71072", "departureTime": 1771726140, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 9,  "stopId": "71062", "departureTime": 1771726860, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 10, "stopId": "71052", "departureTime": 1771727040, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 11, "stopId": "71042", "departureTime": 1771727520, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 12, "stopId": "71032", "departureTime": 1771727880, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 13, "stopId": "71022", "departureTime": 1771728240, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 14, "stopId": "71012", "arrivalTime": 1771728660, "scheduleRelationship": "SKIPPED" }
            ]
        },
        {
            "_comment": "SCENARIO 3: Trip 39 SB — Delayed 8 min (Windsor → Larkspur). departureDelay=480s on all stops. Test: select any SB segment to see gold 'Delayed 8 min' badge and updated departure time.",
            "tripId": "t_test_trip39_sb",
            "routeId": "SMART",
            "startDate": "20260221",
            "startTime": "18:01:00",
            "scheduleRelationship": "SCHEDULED",
            "stopTimeUpdates": [
                { "stopSequence": 1,  "stopId": "71142", "arrivalTime": 1771726140, "departureTime": 1771726140, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 2,  "stopId": "71132", "arrivalTime": 1771726380, "departureTime": 1771726380, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 3,  "stopId": "71122", "arrivalTime": 1771726800, "departureTime": 1771726800, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 4,  "stopId": "71112", "arrivalTime": 1771727040, "departureTime": 1771727040, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 5,  "stopId": "71102", "arrivalTime": 1771727520, "departureTime": 1771727520, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 6,  "stopId": "71092", "arrivalTime": 1771727700, "departureTime": 1771727700, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 7,  "stopId": "71082", "arrivalTime": 1771728300, "departureTime": 1771728300, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 8,  "stopId": "71072", "arrivalTime": 1771728600, "departureTime": 1771728600, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 9,  "stopId": "71062", "arrivalTime": 1771729320, "departureTime": 1771729320, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 10, "stopId": "71052", "arrivalTime": 1771729500, "departureTime": 1771729500, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 11, "stopId": "71042", "arrivalTime": 1771729980, "departureTime": 1771729980, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 12, "stopId": "71032", "arrivalTime": 1771730340, "departureTime": 1771730340, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 13, "stopId": "71022", "arrivalTime": 1771730700, "departureTime": 1771730700, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 },
                { "stopSequence": 14, "stopId": "71012", "arrivalTime": 1771731120, "scheduleRelationship": "SCHEDULED", "departureDelay": 480 }
            ]
        },
        {
            "_comment": "SCENARIO 4: Trip 30 NB — Origin stop skipped (Larkspur SKIPPED). Test: select Larkspur→any NB station to see 'Stop skipped' badge on origin.",
            "tripId": "t_test_trip30_nb",
            "routeId": "SMART",
            "startDate": "20260221",
            "startTime": "16:31:00",
            "scheduleRelationship": "SCHEDULED",
            "stopTimeUpdates": [
                { "stopSequence": 1,  "stopId": "71011", "departureTime": 1771720260, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 2,  "stopId": "71021", "arrivalTime": 1771720680, "departureTime": 1771720680, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 3,  "stopId": "71031", "arrivalTime": 1771720980, "departureTime": 1771720980, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 4,  "stopId": "71041", "arrivalTime": 1771721340, "departureTime": 1771721340, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 5,  "stopId": "71051", "arrivalTime": 1771721700, "departureTime": 1771721700, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 6,  "stopId": "71061", "arrivalTime": 1771721880, "departureTime": 1771721880, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 7,  "stopId": "71071", "arrivalTime": 1771722660, "departureTime": 1771722660, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 8,  "stopId": "71081", "arrivalTime": 1771722960, "departureTime": 1771722960, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 9,  "stopId": "71091", "arrivalTime": 1771723440, "departureTime": 1771723440, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 10, "stopId": "71101", "arrivalTime": 1771723680, "departureTime": 1771723680, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 11, "stopId": "71111", "arrivalTime": 1771724160, "departureTime": 1771724160, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 12, "stopId": "71121", "arrivalTime": 1771724400, "departureTime": 1771724400, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 13, "stopId": "71131", "arrivalTime": 1771724760, "departureTime": 1771724760, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 14, "stopId": "71141", "arrivalTime": 1771725060, "scheduleRelationship": "SCHEDULED" }
            ]
        },
        {
            "_comment": "SCENARIO 5: Trip 32 NB — Destination stop skipped (Santa Rosa Downtown SKIPPED). Test: select any NB station → Santa Rosa Downtown to see 'Stop skipped' badge on destination.",
            "tripId": "t_test_trip32_nb",
            "routeId": "SMART",
            "startDate": "20260221",
            "startTime": "17:03:00",
            "scheduleRelationship": "SCHEDULED",
            "stopTimeUpdates": [
                { "stopSequence": 1,  "stopId": "71011", "departureTime": 1771722180, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 2,  "stopId": "71021", "arrivalTime": 1771722600, "departureTime": 1771722600, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 3,  "stopId": "71031", "arrivalTime": 1771722900, "departureTime": 1771722900, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 4,  "stopId": "71041", "arrivalTime": 1771723260, "departureTime": 1771723260, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 5,  "stopId": "71051", "arrivalTime": 1771723620, "departureTime": 1771723620, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 6,  "stopId": "71061", "arrivalTime": 1771723800, "departureTime": 1771723800, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 7,  "stopId": "71071", "arrivalTime": 1771724580, "departureTime": 1771724580, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 8,  "stopId": "71081", "arrivalTime": 1771724880, "departureTime": 1771724880, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 9,  "stopId": "71091", "arrivalTime": 1771725360, "departureTime": 1771725360, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 10, "stopId": "71101", "arrivalTime": 1771725600, "departureTime": 1771725600, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 11, "stopId": "71111", "arrivalTime": 1771726080, "departureTime": 1771726080, "scheduleRelationship": "SKIPPED" },
                { "stopSequence": 12, "stopId": "71121", "arrivalTime": 1771726320, "departureTime": 1771726320, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 13, "stopId": "71131", "arrivalTime": 1771726680, "departureTime": 1771726680, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 14, "stopId": "71141", "arrivalTime": 1771726980, "scheduleRelationship": "SCHEDULED" }
            ]
        },
        {
            "_comment": "SCENARIO 6: Trip 34 NB — Delayed 15 min (Larkspur → Windsor). departureDelay=900s on all stops. Test: select any NB segment to see gold 'Delayed 15 min' badge and updated departure time.",
            "tripId": "t_test_trip34_nb",
            "routeId": "SMART",
            "startDate": "20260221",
            "startTime": "17:35:00",
            "scheduleRelationship": "SCHEDULED",
            "stopTimeUpdates": [
                { "stopSequence": 1,  "stopId": "71011", "arrivalTime": 1771725000, "departureTime": 1771725000, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 2,  "stopId": "71021", "arrivalTime": 1771725420, "departureTime": 1771725420, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 3,  "stopId": "71031", "arrivalTime": 1771725720, "departureTime": 1771725720, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 4,  "stopId": "71041", "arrivalTime": 1771726080, "departureTime": 1771726080, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 5,  "stopId": "71051", "arrivalTime": 1771726440, "departureTime": 1771726440, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 6,  "stopId": "71061", "arrivalTime": 1771726620, "departureTime": 1771726620, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 7,  "stopId": "71071", "arrivalTime": 1771727400, "departureTime": 1771727400, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 8,  "stopId": "71081", "arrivalTime": 1771727700, "departureTime": 1771727700, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 9,  "stopId": "71091", "arrivalTime": 1771728180, "departureTime": 1771728180, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 10, "stopId": "71101", "arrivalTime": 1771728420, "departureTime": 1771728420, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 11, "stopId": "71111", "arrivalTime": 1771728900, "departureTime": 1771728900, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 12, "stopId": "71121", "arrivalTime": 1771729140, "departureTime": 1771729140, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 13, "stopId": "71131", "arrivalTime": 1771729500, "departureTime": 1771729500, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 },
                { "stopSequence": 14, "stopId": "71141", "arrivalTime": 1771729800, "scheduleRelationship": "SCHEDULED", "departureDelay": 900 }
            ]
        },
        {
            "_comment": "SCENARIO 7: DUPLICATED trip — Extra SB service departing Windsor 17:15, based on Trip 35 SB. API must produce a unique tripId (t_test_trip35_sb_17:15:00) and set duplicatedTripRef. The trip departs at a time not in the static schedule, so it won't appear in the trip list UI, but it verifies the deduplication logic doesn't corrupt the scheduled Trip 35 entry.",
            "tripId": "t_test_trip35_sb",
            "routeId": "SMART",
            "startDate": "20260221",
            "startTime": "17:15:00",
            "scheduleRelationship": "DUPLICATED",
            "stopTimeUpdates": [
                { "stopSequence": 1,  "stopId": "71142", "departureTime": 1771722900, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 2,  "stopId": "71132", "arrivalTime": 1771723140, "departureTime": 1771723140, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 3,  "stopId": "71122", "arrivalTime": 1771723560, "departureTime": 1771723560, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 4,  "stopId": "71112", "arrivalTime": 1771723800, "departureTime": 1771723800, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 5,  "stopId": "71102", "arrivalTime": 1771724280, "departureTime": 1771724280, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 6,  "stopId": "71092", "arrivalTime": 1771724460, "departureTime": 1771724460, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 7,  "stopId": "71082", "arrivalTime": 1771725060, "departureTime": 1771725060, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 8,  "stopId": "71072", "arrivalTime": 1771725360, "departureTime": 1771725360, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 9,  "stopId": "71062", "arrivalTime": 1771726080, "departureTime": 1771726080, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 10, "stopId": "71052", "arrivalTime": 1771726260, "departureTime": 1771726260, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 11, "stopId": "71042", "arrivalTime": 1771726740, "departureTime": 1771726740, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 12, "stopId": "71032", "arrivalTime": 1771727100, "departureTime": 1771727100, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 13, "stopId": "71022", "arrivalTime": 1771727460, "departureTime": 1771727460, "scheduleRelationship": "SCHEDULED", "departureDelay": 0 },
                { "stopSequence": 14, "stopId": "71012", "arrivalTime": 1771727880, "scheduleRelationship": "SCHEDULED" }
            ]
        }
    ]
}
